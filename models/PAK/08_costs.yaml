# -------------------------------------------------------------------------
#
#   COSTS
#   
#     Define all cost parameters for the model. Specifically:
#       - Depreciation method
#       - Discount rate
#       - Cost of capital
#       - Capital costs
#       - Fixed O&M costs
#       - Fuel prices
#
#     Link to docs: 
#       https://docs.feo.transitionzero.org/docs/tz-osemosys/technology/
#
#     Authors:
#       - @irfanm-tz
#
# -------------------------------------------------------------------------

# ------------------
# Financial methods
# ------------------

depreciation_method: "straight-line"

# -------------------------------
# social discount rate by region
# -------------------------------
discount_rate: 
  "*": 0.05

# ------------------------------
# cost of capital by technology
# ------------------------------
cost_of_capital: # WACC
  # all regions
  "*" :
    # all technologies
    "*": 0.11
    # coal-supercritical: 0.11
    # coal-subcritical: 0.11
    # nuclear: 0.11
    # solar-pv: 0.11
    # windonshore-power:: 0.11
    # hydropower: 0.11
    # geo-power: 0.11
    # biogas-power: 0.11
    # transmission: 0.11


# ----------------------------
# Capital costs (mn$/GW, $/kW)
# ----------------------------

capex:
  coal-supercritical:
    # all regions
    "*": 
      # all years
      "{y: 2825 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  coal-subcritical:
    "*":
      "{y: 2825 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  coal-ultrasupercritical:
    "*":
      "{y: 2825 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later   
  coal-unspecified:
    "*":
      "{y: 2825 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later   
  gas-CCGT:    
    "*":
      "{y: 1097 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-OCGT:
    "*":
      "{y: 986.7 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-steam-turbine:
    "*":
      "{y: 986.7 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  oil-internal-combustion-engine:
    "*":
      "*": 1450.0 # no capex given for oil in PAK, rates from other countries taken
  solar-pv: 
    "*":
      "{y: 1244.6 * (0.972 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  windonshore-power:
    "*":
      "{y: 1283.2 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  windoffshore-power:
    "*":
      "{y: 2849.2 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  hydropower: # using hydro-large value
    "*":
      "{y: 5530 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later, but note it has a steep drop in costs
  geo-power: # using geothermal binary value
    "*":
      "{y: 7289.9 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  bioenergy-power: # using biomass small value
    "*":
      "{y: 4319.5 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change the learning rate later
  nuclear-power: 
    "*":
      "{y: 6721 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-CCGT-CCS:
    "*":
      "{y: 2390 * (0.99 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # no costs given, use as placeholder for now
  coal-supercritical-CCS:
    "*":
      "{y: 3840 * (0.99 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # no costs given, use as placeholder for now
  battery-technology:
    "*":
      "{y: 250 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # https://www.iea.org/reports/batteries-and-secure-energy-transitions/executive-summary - rough 250 figure taken
  regasification-floating:
    "*" :
      "*": 3.41 # OIES
  regasification-onshore:
    "*" :
      "*": 5.69 # OIES
  liquefaction-onshore:
    "*" :
      "*": 13.741         
  transmission: # inside a node for primary- to secondary-electricity
    "*" :
      "*": 276.74
  pumped-hydro:
    "*":
      "*": 1045

# ----------------------------------------
# Fixed O&M costs (mn$/GW/year, $/kW/year)
# ----------------------------------------

opex_fixed:
  coal-supercritical:
    # all regions
    "*": 
      # all years
      "{y: 77.2 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  coal-subcritical:
    "*":
      "{y: 77.2 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  coal-ultrasupercritical:
    "*":
      "{y: 77.2 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  coal-unspecified:
    "*":
      "{y: 77.2 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-CCGT:    
    "*":
      "{y: 30.5 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-OCGT:
    "*":
      "{y: 23.7 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-steam-turbine:
    "*":
      "{y: 23.7 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  oil-internal-combustion-engine:
    "*":
      "*": 35.0 # no value given for oil in PAK, rates from other countries taken
  solar-pv: 
    "*":
      "{y: 21 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  windonshore-power:
    "*":
      "{y: 29.8 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  windoffshore-power:
    "*":
      "{y: 85.1 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  hydropower:
    "*":
      "{y: 87.0 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  geo-power: # using geothermal binary value
    "*":
      "{y: 162.7 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  bioenergy-power: # using biomass small value
    "*":
      "{y: 157.2 * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  nuclear-power:
    "*":
      "*": 152.1
  gas-CCGT-CCS:
    "*":
      "{y: 59 * (0.984 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}"
  coal-supercritical-CCS:
    "*":
      "{y: 97 * (0.989 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}"    
  battery-technology:
    "*": 
      "{y: 31.39 * (0.974 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # have to check this 
  regasification-floating:
    "*" :
      "*": 0.09
  regasification-onshore:
    "*" :
      "*": 0.14
  liquefaction-onshore:
    "*" :
      "*": 0.34  
  transmission: # inside a node for primary- to secondary-electricity
    "*" :
      "*": 9.69    
  pumped-hydro:
    "*":
      "*": 87.0 # add learning rate later    

# ---------------------------------------------
# Variable O&M cost (mn$/PJ, $/GJ, ($/MWh)/3.6)
# ---------------------------------------------

opex_variable:
  coal-supercritical: 
    "*":
      "{y: (8.4 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later 
  coal-ultrasupercritical:
    "*":
      "{y: (8.4 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  coal-subcritical:
    "*":
      "{y: (8.4 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  coal-unspecified:
    "*":
      "{y: (8.4 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  oil-internal-combustion-engine:
    "*":
      "{y: (6.4 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # no rate given, use other country for now, and no l.r.
  gas-CCGT:
    "*":
      "{y: (1.9 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-OCGT: 
    "*":
      "{y: (6.4 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  gas-steam-turbine: 
    "*":
      "{y: (6.4 / 3.6) * (1 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}" # change learning rate later
  solar-pv:
    "*":
      "*": 0.
  windonshore-power:
    "*":
      "*": 0.
  windoffshore-power:
    "*":
      "*": 0.
  nuclear-power: 
    "*":
      "*": 2.5
  hydropower: 
    "*":
      "*": 0.
  geo-power: 
    "*":
      "*": 0.
  bioenergy-power: 
    "*":
      "{y: (5.0 / 3.6) for y in ${time_definition.years}}"
  gas-CCGT-CCS:
    "*":
      "{y: (5.0 / 3.6) * (0.988 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}"    
  coal-supercritical-CCS:
    "*":
      "{y: 0.98 * (0.99 ** (y-min(${time_definition.years}))) for y in ${time_definition.years}}"          
  battery-technology:
    "*": 
      "*": 0.
  transmission: 
    "*":
      "*": 3.0 # need to be checked
  gas-import-liquefied:
    "*": 
      2023: 15.03
      2024: 14.09
      2025: 13.15
      2026: 12.21
      2027: 11.27
      2028: 10.32
      2029: 9.38
      2030: 8.44
      2031: 8.41
      2032: 8.38
      2033: 8.35
      2034: 8.32
      2035: 8.29
      2036: 8.26
      2037: 8.23
      2038: 8.2
      2039: 8.17
      2040: 8.14
      2041: 8.11
      2042: 8.08
      2043: 8.05
      2044: 8.02
      2045: 7.99
      2046: 7.96
      2047: 7.93
      2048: 7.9
      2049: 7.87
      2050: 7.84
  coal-import-hard: # should this be changed to brown coal instead?
    "*": 
      2023: 1000.44
      2024: 1009.42
      2025: 1008.4
      2026: 1007.37
      2027: 1006.35
      2028: 1005.32
      2029: 1004.3
      2030: 1003.28
      2031: 1003.24
      2032: 1003.21
      2033: 1003.18
      2034: 1003.15
      2035: 1003.11
      2036: 1003.08
      2037: 1003.05
      2038: 1003.02
      2039: 1002.98
      2040: 1002.95
      2041: 1002.92
      2042: 1002.89
      2043: 1002.85
      2044: 1002.82
      2045: 1002.79
      2046: 1002.76
      2047: 1002.73
      2048: 1002.69
      2049: 1002.66
      2050: 1002.63

  coal-import-brown: # need to force this to use domestic coal
    "*": 
      2023: 10.44
      2024: 9.42
      2025: 8.4
      2026: 7.37
      2027: 6.35
      2028: 5.32
      2029: 4.3
      2030: 3.28
      2031: 3.24
      2032: 3.21
      2033: 3.18
      2034: 3.15
      2035: 3.11
      2036: 3.08
      2037: 3.05
      2038: 3.02
      2039: 2.98
      2040: 2.95
      2041: 2.92
      2042: 2.89
      2043: 2.85
      2044: 2.82
      2045: 2.79
      2046: 2.76
      2047: 2.73
      2048: 2.69
      2049: 2.66
      2050: 2.63

  oil-refined-import:
    "*": 
      2023: 20.29
      2024: 19.95
      2025: 19.61
      2026: 19.26
      2027: 18.92
      2028: 18.58
      2029: 18.24
      2030: 17.89
      2031: 17.87
      2032: 17.85
      2033: 17.83
      2034: 17.81
      2035: 17.79
      2036: 17.77
      2037: 17.75
      2038: 17.73
      2039: 17.71
      2040: 17.68
      2041: 17.66
      2042: 17.64
      2043: 17.62
      2044: 17.6
      2045: 17.58
      2046: 17.56
      2047: 17.54
      2048: 17.52
      2049: 17.49
      2050: 17.47
  coal-hard-domestic-step-1: 
    "*":
      "*": 2.75
  coal-brown-domestic-step-1: 
    "*":
      "*": 1.76
  gas-domestic-step-1: 
    "*":
      "*": 5.70
  carbon-capture-and-storage-transmission-and-distribution:
    "*":
      "*": 30 # unit is dollars per ton of CO2 transported; taken high end of CO2 T&S costs from: https://zeroemissionsplatform.eu/co2-storage-cost/
  pumped-hydro:
    "*":
      "*": 0.32    

# ---------------------------
# Fuel prices (M$/PJ or $/GJ)
# ---------------------------

fuel_price:
  uranium:
    "*" :
      "{y: (2.25 / 3.6) for y in ${time_definition.years}}" # from V20 data

# do I have to define coal prices here? or does this use the step functions? try with a straightforward time series to begin with
  coal-brown:
    "*":
      "{y: (20 / 3.6) for y in ${time_definition.years}}" # rough approximation from V20 data

  coal-hard:
    "*":
      "{y: (2000 / 3.6) for y in ${time_definition.years}}" # make this prohinbitively expensive for now
